<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <title>Administrador</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="shortcut icon" href="img/logo.jpeg">
    <link rel="stylesheet" href="css/style5.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <link rel="" href="https://cdn.datatables.net/fixedheader/3.1.6/css/fixedHeader.dataTables.min.css">
    <style>
/*estilos para la tabla*/
table th {
background-color: #FF416C;
color: white;   
}
</style>
</head>

<body>

    <input type="checkbox" id="nav-toggle">
    <div class="sidebar">
        <div class="sidebar-brand container-fluids">
            <h2><span > <img width="70%" height="70%" src="img/logo.jpeg" alt=""></span> 
        </div><br>
        <!--Secciones-del-tablero-->
        <div class="sidebar-menu" >
         <ul>
                <li>
                    <a th:href="@{/inicioDash}" class="active"><span class="las la-home"></span>
                    <span>Inicio</span></a>
                </li>
                <li>
                  <a th:href="@{/listarventas}"><span class="las la-history"></span>
                    <span>Ventas</span></a>
                </li>
                <li>
                    <a th:href="@{/lstUsuario}"><span class="las la-user-injured"></span>
                    <span>Usuarios</span></a>
                </li>
                <li>
                    <a th:href="@{/lstservicio2}" ><span class="las la-history"></span>
                    <span>Servicios</span></a>
                </li>
                
              <li>
                    <a th:href="@{/vehiculos}" ><span class="las la-history"></span>
                    <span>Vehiculos</span></a>
                </li>
                <li>
                    <a th:href="@{/of1}" ><span class="las la-user-circle"></span>
                    <span>Fidelizacion</span></a>
                </li>
                <li>
                    <a th:href="@{/lstpqrs}"><span class="las la-phone"></span>
                    <span>PQRS</span></a>
                </li>
                <li>
                    <a  th:href="@{/recursoshumanos}"><span class="las la-user"></span>
                    <span>Recursos Humanos</span></a>
                </li>
            </ul>
        </div>
    </div>

    <div class="main-content">
        <header>
            <h2>
                <label for="nav-toggle">
                    <span class="las la-bars"></span>
                </label> Reportes registrados  
            </h2>

            <div class="search-wrapper">
                <span class="las la-search"></span>
                <input type="search" placeholder="Buscar aquÃ­" />
            </div>
            <div class="user-wrapper">
                <img src="img/chofe.jpg" width="40px" height="40px" alt="">
                <div>
                    <h4>Administrador</h4>
                     <small ><a th:href="@{/logout}">Cerrar Sesion</a></small>
                </div>
            </div>
        </header>

        
           

      


  <main>

    <div class="cards">

                

                <div class="card-single" >
                    
                        <img src="images/bus2.jpg" style="width: 160px;">
                
                    <div>
                        <span class="icon ion-md-attach"></span>
                    </div>
                </div>

              <button style="border: none"><div class="card-single">
                    <div>
                        <h1></h1>
                         <a  th:href="@{/pdfreporte}"><span>Descargar Reportes</span></a>
                    </div>
                    <div>
                        <span class="icon ion-md-sync"></span>
                    </div>
                </div></button> 

               
     </div>
             
              

            

                

                
            
            <!--Tabla-->
                <div class="projects">
                    <div class="card " >
                        <div class="card-header col-sm-10  ">
                            <h3 >consulta aqui el reporte de tu vehiculo </h3>

                           
                        </div>
                        
          
<form action="" method="post"
													class="form-group">
													<div class="input-group mb-1 d-flex justify-content-around">
														<label for="fecha1">Fecha de inicio</label> 
														<label for="fecha2">Fecha final</label>
														<label for="estado">estado del vehiculo</label>
													</div>
													<div class="input-group mb-3 mt-2 d-flex justify-content-around">
														<input class="form-control" type="Date"
															placeholder="Fecha de inicio" name="fecha1" id="fecha1">
														<input class="form-control" type="Date" name="fecha2"
															id="fecha2">
															
													 	<select id="estado" class="form-control">
														<option name="estado" selected>funcional</option>
														<option name="estado" >ocupado</option>-->
													</select><br>
														
													</div>
													<label for="fecha2">Formato</label>
													<select id="tip0" class="form-control">
														<option name="tip0" value="PDF" selected>PDF</option>
														<option name="tip0" value="EXCEL">EXCEL</option>
													</select><br>
												
													<button class="btn btn-warning" type="button"
														onclick="reporte()">Descargar</button>
               </form>


  
     <div class="table-responsive">
                                                      
   <table id="example" class="display" style="width:100%" >
                            
                            <thead>
                                <tr>
                                    <td>dia de entrega</td>
                                    <td>dia de llegada</td>
                                    <td>estado del vehiculo</td>
                                    <td>dia del reporte</td>
                                    <td>matricula vehiculo</td>



                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="reporteItem : ${lstreportev}">
                                    <td th:text="${reporteItem.reporteentrega}"></td>
                                    <td th:text="${reporteItem.reportellegada}"></td>
                                    <td th:text="${reporteItem.estadovehiculo}"></td>
                                    <td th:text="${reporteItem.diareporte}"></td>
                                    <td><div th:each="vehiculoItem : ${reporteItem.vehiculo}">
                                            <span th:text="${vehiculoItem.matriculavehiculo}"></span>
                                     </div></td>

                                </tr>
         
                                
                            </tbody>
                        </table>                                                      
       
        
  <div>     
        
                
    
   
                                       
   </div>
                                              

                                         


 </div>
 
 <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/fixedheader/3.1.6/js/dataTables.fixedHeader.min.js"></script>
 
 <script type="text/javascript">
	function reporte(){
	
	var fecha1 = document.getElementById("fecha1").value;
	var fecha2 = document.getElementById("fecha2").value;
	var estado = document.getElementById("estado").value;
	var tip0 = document.getElementById("tip0").value;
	
	
	window.open("http://report/ventas/download?fechainicio="+fecha1+"&fechafin="+fecha2+"&estado="+estado+ "&tipo="+tip0);
	
  }
	

	</script>
	
<script>
	let temp = $("#btn1").clone();
	$("#btn1").click(function(){
	    $("#btn1").after(temp);
	});

	$(document).ready(function(){
	    var table = $('#example').DataTable({
	       orderCellsTop: true,
	       fixedHeader: true 
	    });

	    //Creamos una fila en el head de la tabla y lo clonamos para cada columna
	    $('#example thead tr').clone(true).appendTo( '#example thead' );

	    $('#example thead tr:eq(1) th').each( function (i) {
	        var title = $(this).text(); //es el nombre de la columna
	        $(this).html( '<input type="text" placeholder="buscar...'+title+'" />' );
	 
	        $( 'input', this ).on( 'keyup change', function () {
	            if ( table.column(i).search() !== this.value ) {
	                table
	                    .column(i)
	                    .search( this.value )
	                    .draw();
	            }
	        } );
	    } );   
	});
	</script>

</body>

</html>